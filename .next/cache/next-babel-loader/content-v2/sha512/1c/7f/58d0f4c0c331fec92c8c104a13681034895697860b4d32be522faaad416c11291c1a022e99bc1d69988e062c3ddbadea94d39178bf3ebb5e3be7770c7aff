{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// @ts-nocheck\nconst reset = \"\\x1b[0m\";\nconst bright = \"\\x1b[1m\";\nconst dim = \"\\x1b[2m\";\nconst underscore = \"\\x1b[4m\";\nconst blink = \"\\x1b[5m\";\nconst reverse = \"\\x1b[7m\";\nconst hidden = \"\\x1b[8m\";\nconst black = \"\\x1b[30m\";\nconst red = \"\\x1b[31m\";\nconst green = \"\\x1b[32m\";\nconst yellow = \"\\x1b[33m\";\nconst blue = \"\\x1b[34m\";\nconst magenta = \"\\x1b[35m\";\nconst cyan = \"\\x1b[36m\";\nconst white = \"\\x1b[37m\";\nconst orange = \"\\x1b[45m\";\nconst BGblack = \"\\x1b[40m\";\nconst BGred = \"\\x1b[41m\";\nconst BGgreen = \"\\x1b[42m\";\nconst BGyellow = \"\\x1b[43m\";\nconst BGblue = \"\\x1b[44m\";\nconst BGmagenta = \"\\x1b[45m\";\nconst BGcyan = \"\\x1b[46m\";\nconst BGwhite = \"\\x1b[47m\";\n\nclass logger {\n  constructor() {\n    _defineProperty(this, \"color\", \"black\");\n  }\n\n  static debug(...params) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"debug\", caller, message, cyan, rest);\n  }\n\n  static info(...params) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"info\", caller, message, blue, rest);\n  }\n\n  static error(...params) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"error\", caller, message, red, rest);\n  }\n\n  static warning(...params) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"warn\", caller, message, orange, rest);\n  }\n\n  static success(...params) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"success\", caller, message, green, rest);\n  }\n\n}\n\nexport default logger;\n\nfunction print(tagName, fileName, message, tagColor, rest) {\n  console.log(\"\");\n  console.log.apply(console, [tagColor + bright + `[${tagName}]${reset}`, magenta + ` ${fileName}${reset}: `, message, ...rest]);\n}\n\nfunction getCaller() {\n  try {\n    throw new Error();\n  } catch (e) {\n    try {\n      // at /Users/abhi/www/letterpad/src/client/server/dispatcher.ts:29:10\n      const getLineThree = e.stack.split(\"at \")[3]; // [/Users/abhi/www/letterpad/src/client/server/dispatcher.ts:29:10]\n\n      const getLastTwoSlashItem = getLineThree.split(\"/\").slice(1).splice(-2); // [server, dispatcher.ts:29:10]\n\n      const getFileName = getLastTwoSlashItem[0] + \"/\" + getLastTwoSlashItem[1].split(\":\")[0].replace(\"?\", \"\");\n      return getFileName;\n    } catch (e) {\n      return \"\";\n    }\n  }\n}","map":{"version":3,"sources":["/Users/abhi/www/letterpad-admin/shared/logger.ts"],"names":["reset","bright","dim","underscore","blink","reverse","hidden","black","red","green","yellow","blue","magenta","cyan","white","orange","BGblack","BGred","BGgreen","BGyellow","BGblue","BGmagenta","BGcyan","BGwhite","logger","debug","params","caller","getCaller","message","rest","print","info","error","warning","success","tagName","fileName","tagColor","console","log","apply","Error","e","getLineThree","stack","split","getLastTwoSlashItem","slice","splice","getFileName","replace"],"mappings":"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","sourcesContent":["// @ts-nocheck\nconst reset = \"\\x1b[0m\";\nconst bright = \"\\x1b[1m\";\nconst dim = \"\\x1b[2m\";\nconst underscore = \"\\x1b[4m\";\nconst blink = \"\\x1b[5m\";\nconst reverse = \"\\x1b[7m\";\nconst hidden = \"\\x1b[8m\";\n\nconst black = \"\\x1b[30m\";\nconst red = \"\\x1b[31m\";\nconst green = \"\\x1b[32m\";\nconst yellow = \"\\x1b[33m\";\nconst blue = \"\\x1b[34m\";\nconst magenta = \"\\x1b[35m\";\nconst cyan = \"\\x1b[36m\";\nconst white = \"\\x1b[37m\";\nconst orange = \"\\x1b[45m\";\n\nconst BGblack = \"\\x1b[40m\";\nconst BGred = \"\\x1b[41m\";\nconst BGgreen = \"\\x1b[42m\";\nconst BGyellow = \"\\x1b[43m\";\nconst BGblue = \"\\x1b[44m\";\nconst BGmagenta = \"\\x1b[45m\";\nconst BGcyan = \"\\x1b[46m\";\nconst BGwhite = \"\\x1b[47m\";\n\nclass logger {\n  color = \"black\";\n\n  static debug(...params: any[]) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"debug\", caller, message, cyan, rest);\n  }\n\n  static info(...params: any[]) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"info\", caller, message, blue, rest);\n  }\n\n  static error(...params: any[]) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"error\", caller, message, red, rest);\n  }\n\n  static warning(...params: any[]) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n    print(\"warn\", caller, message, orange, rest);\n  }\n\n  static success(...params: any[]) {\n    const caller = getCaller();\n    const [message, ...rest] = params;\n\n    print(\"success\", caller, message, green, rest);\n  }\n}\nexport default logger;\n\nfunction print(\n  tagName: string,\n  fileName: string,\n  message: string,\n  tagColor: string,\n  rest: any[],\n) {\n  console.log(\"\");\n  console.log.apply(console, [\n    tagColor + bright + `[${tagName}]${reset}`,\n    magenta + ` ${fileName}${reset}: `,\n    message,\n    ...rest,\n  ]);\n}\nfunction getCaller() {\n  try {\n    throw new Error();\n  } catch (e) {\n    try {\n      // at /Users/abhi/www/letterpad/src/client/server/dispatcher.ts:29:10\n      const getLineThree = e.stack.split(\"at \")[3];\n      // [/Users/abhi/www/letterpad/src/client/server/dispatcher.ts:29:10]\n      const getLastTwoSlashItem = getLineThree.split(\"/\").slice(1).splice(-2);\n      // [server, dispatcher.ts:29:10]\n      const getFileName =\n        getLastTwoSlashItem[0] +\n        \"/\" +\n        getLastTwoSlashItem[1].split(\":\")[0].replace(\"?\", \"\");\n      return getFileName;\n    } catch (e) {\n      return \"\";\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}