# import Partial from './partial.graphql'

query Post($filters: PostFilters) {
  post(filters: $filters) {
    ...Partial
    author {
      name
      social {
        github
        twitter
        instagram
      }
      bio
    }
    tags {
      id
      name
      desc
      slug
    }
  }
}

query Posts($filters: PostsFilters) {
  posts(filters: $filters) {
    ...Partial
    author {
      name
      social {
        github
        twitter
        instagram
      }
      bio
    }
    tags {
      id
      name
      desc
      slug
    }
  }
}

query Media($filters: MediaFilters) {
  media(filters: $filters) {
    count
    rows {
      id
      url
      authorId
      createdAt
      name
      description
      width
      height
    }
  }
}

query Me {
  me {
    id
    name
    social {
      github
      twitter
      instagram
      facebook
    }
    email
    bio
    avatar
  }
}

mutation UpdateAuthor($author: InputAuthor!) {
  updateAuthor(author: $author) {
    ok
    errors {
      path
      message
    }
    data {
      name
      social {
        github
        twitter
        instagram
        facebook
      }
      bio
      avatar
    }
  }
}

mutation Login($data: LoginData) {
  login(data: $data) {
    status
    data {
      id
      name
      email
      role
      avatar
      permissions
    }
  }
}

query settings {
  settings {
    site_title
    site_tagline
    site_email
    site_url
    site_footer
    site_description
    subscribe_embed
    social_twitter
    social_facebook
    social_instagram
    social_github
    displayAuthorInfo
    cloudinary_key
    cloudinary_name
    cloudinary_secret
    menu {
      label
      original_name
      slug
      type
    }
    css
    google_analytics
    locale
    theme
    disqus_id
    banner {
      src
      width
      height
    }
    site_logo {
      src
      width
      height
    }
    site_favicon {
      src
      width
      height
    }
  }
}
